<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <h1>Bienvenido <span id="username"></span></h1>
    <button onclick="cargarUsuarios()">Cargar Usuarios</button>
    
    <div id="user-info"></div>

    <script>
        function cargarUsuarios(){

            const requestOption = {
                method: 'GET',
                headers : {
                    'Content-Type': 'application/json',
                }
            }

            fetch(`http://127.0.0.1:5000/clientes`, requestOption)
            .then(
                resp => {return resp.json()}
            )
            .then(
                resp => {

                    console.log('message', resp)
                    resp.forEach(usuario => {
                        mostrarUsuarios(usuario);
                    });
                }
            )

            function mostrarUsuarios(usuario){
                // Crear un nuevo elemento div para mostrar la información del usuario
                const userInfoDiv = document.getElementById('user-info');

                // Crear contenido HTML con la información del usuario
                const userInfoHTML = `
                    <p>Nombre: ${usuario.nombre}</p>
                    <p>Email: ${usuario.email}</p>
                    <p>Dni: ${usuario.dni}</p>
                    <hr>
                    <!-- Agrega más campos según la estructura de tu objeto usuario -->
                `;

                // Agregar el contenido al div
                userInfoDiv.innerHTML += userInfoHTML;
            }
        }
    </script>
</body>
</html>
